<html>
    <head>
        <title>JavaScript Async/Await</title>
    </head>
    <body>
        <h1>Async/Await</h1>
        
        <script>

            // Without using Async / Await
            /*

            let result = function(score) {
                return new Promise(function(resolve, reject) {
                    console.log("Calculating the results...")
                    if(score > 50) {
                        resolve("Congratulations! You have passed!")
                    } else {
                        reject("You have failed!")
                    }
                })
            }
            let grade = function(response) {
                return new Promise(function(resolve, reject) {
                    console.log("Calculating the grade...")
                    resolve("Your grade is A. " + response)
                })
            }
            result(90).then(response => {
                console.log("Results receievd")
                return grade(response)
            }).then(finalgrade => {
                console.log(finalgrade)
            }).catch(error => {
                console.log(error)
            })

            */

            // Using Async / Await

            let result = function(score) {
                return new Promise(function(resolve, reject) {
                    console.log("Calculating the results...")
                    if(score > 50) {
                        resolve("Congratulations! You have passed!")
                    } else {
                        reject("You have failed!")
                    }
                })
            }
            let grade = function(response) {
                return new Promise(function(resolve, reject) {
                    console.log("Calculating the grade...")
                    resolve("Your grade is A. " + response)
                })
            }
            async function calculateResults() {
                try {
                    const response = await result(90)
                    console.log("Results received")
                    const finalgrade = await grade(response)
                    console.log(finalgrade)
                }
                catch(error) {
                    console.log(error)
                }
            }
            calculateResults()

        </script>
        
    </body>
</html>